(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{159:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("通常在一个 vue 项目中我们会在入口文件 "),a("code",[t._v("main.js")]),t._v(" 中引入相关依赖模块（前提依赖模块必须已经安装），安装步骤请参考"),a("a",{attrs:{href:"https://cn.vuejs.org/v2/guide/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue"),a("OutboundLink")],1),t._v("官网，微服务框架也提供了前端脚手架，可以在"),a("a",{attrs:{href:"http://git.do1.com.cn/TeamWorkcode/do1-cli/tree/develop",target:"_blank",rel:"noopener noreferrer"}},[t._v("gitlab"),a("OutboundLink")],1),t._v("上获取源码，相应命令如下：")]),t._v(" "),t._m(1),t._m(2),t._v(" "),a("p",[t._v("为了方便多人开发以及维护，微服务将路由文件也进行模块化，不同的模块分不同的 js 文件，然后在最外层的 index.js 中进行整合，添加路由的结构如下，组件中的引入方式是为了实现 vue 异步加载：")]),t._v(" "),t._m(3),t._m(4),t._v(" "),a("p",[t._v("微服务对 "),a("code",[t._v("axios")]),t._v(" 进行一次封装，配置了拦截器，请求超时时间，随机数，请求格式以及 "),a("code",[t._v("token")]),t._v("（访问后端接口身份校验），文件路径在 src/utils/fetch.js，其中拦截器是拦截前端对后端的请求和后端响应请求，具体配置参数含义请参考"),a("a",{attrs:{href:"https://www.jianshu.com/p/7a9fbcbb1114",target:"_blank",rel:"noopener noreferrer"}},[t._v("axios"),a("OutboundLink")],1)]),t._v(" "),t._m(5),t._v(" "),a("p",[t._v("Vuex 是 Vue.js 应用程序的状态管理模式+库，它充当应用程序中所有组件的集中存储，其规则确保状态只能以可预测的方式进行变更。为了方便多人开发和维护，微服务也将 vuex 进行模块化，处理方式和 router 相同，但是目前用到 vuex 代码量相对较少，暂时全都放在 "),a("code",[t._v("store.js")]),t._v(" 中，使用方法参考"),a("a",{attrs:{href:"https://vuex.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuex"),a("OutboundLink")],1),t._v("。")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._m(9),t._v(" "),t._m(10)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"入口文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#入口文件","aria-hidden":"true"}},[this._v("#")]),this._v(" 入口文件")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("git")]),t._v(" clone http://git.do1.com.cn/TeamWorkcode/do1-cli\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 推荐使用yarn")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 初始化项目（安装项目依赖）")]),t._v("\nyarn "),a("span",{attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("or "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" install"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 启动开发模式")]),t._v("\nyarn start "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("or "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" start"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("# 项目打包")]),t._v("\nyarn build "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("or "),a("span",{attrs:{class:"token function"}},[t._v("npm")]),t._v(" build"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"router"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#router","aria-hidden":"true"}},[this._v("#")]),this._v(" router")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  path"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'messageLog'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  name"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'messageLog'")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  meta"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    title"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'消息日志'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  component"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" resolve "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v("'@/views/admin/container'")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  children"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"axios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#axios","aria-hidden":"true"}},[this._v("#")]),this._v(" axios")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"vuex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuex","aria-hidden":"true"}},[this._v("#")]),this._v(" vuex")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"api-接口地址"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#api-接口地址","aria-hidden":"true"}},[this._v("#")]),this._v(" API 接口地址")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("前端页面数据展示是调用后端 API 接口获取相关数据在前端页面渲染，同样为了方便开发和维护，微服务将 API 接口提取成单独的一个 JS 文件，引入封装好的 "),s("code",[this._v("axios")]),this._v(" 以及 "),s("code",[this._v("QS")]),this._v("，每个接口代码结构类似如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("getUserList")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" data "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" Qs"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("stringify")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("Ajax")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    url"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("baseAuthorize"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("dsf/user/list?`")])]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" data"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    method"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v("'get'")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"第三方插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#第三方插件","aria-hidden":"true"}},[this._v("#")]),this._v(" 第三方插件")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果 vue 项目中需要引入第三方插件或者 UI 框架，微服务会单独创建一个 JS 文件按需引入第三方模块，例如 "),s("code",[this._v("element ui")]),this._v(" 会单独创建一个目录，里面存放按需引入 el 模块的 JS 然后再在入口文件引入")])}],!1,null,null,null);e.options.__file="entryfile.md";s.default=e.exports}}]);